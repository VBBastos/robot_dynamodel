function [x,y,psi,i,u,w,uref,wref,xs,ys,psis,us,ws] = genrobotdata(x0,y0,xs0,ys0,psi0,psis0,xd,yd,tolerance)
    %% Parâmetros do Robô

    %Coeficientes

    theta=[0.2604 0.2509 -0.000499 0.9965 0.00263 1.0768];
    a=0.2;
    controlled = 0;
    
    
    %Valores Máximos
    umax = 0.1;
    wmax = 1.745;
    dumax = 0.3;
    dwmax = 1.745;

    %Condições Iniciais
    %x0=0;
    %y0=0;
    %psi0=2*pi;
    x(1)=x0;
    y(1)=y0;
    psi(1)=psi0;
    u(1)=0;
    w(1)=0;
    du(1)=0;
    dw(1)=0;
    ts=0.01;
    i=1;
    
    xs(1)=xs0;
    ys(1)=ys0;
    psis(1)=psis0;
    us(1)=0;
    ws(1)=0;
    us(1)=0;
    dus(1)=0;
    dws(1)=0;
    s(1) = 0;

    %Parâmetros Controlador

    kx=0.5;
    ky=0.5;
    lx=0.5;
    ly=0.5;

    %Destino
    %xd=1;
    %yd=1;
    %tolerance=0.1;
%     

%Big
%     Param4 = [ 0         0         0         0;
%    -4.1168         0         0         0;
%          0   -2.7895         0         0;
%     4.0972         0         0         0;
%          0    2.7455         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0];
     
     
     
     
 %L PARAM
 
 Param4 = [[ 0.00000000e+00,  0.00000000e+00,  8.12588912e-02,         1.02762960e-01],
       [-3.86254713e+00,  0.00000000e+00,  8.95445940e+00,         2.57868209e+00],
       [ 0.00000000e+00, -4.27083022e+00,  5.48153206e+00,        -4.28843823e+02],
       [ 3.85610286e+00,  0.00000000e+00, -1.29182274e+01,        -3.42746030e+00],
       [ 0.00000000e+00,  3.63690949e+00,  3.33135802e+00,         1.18532944e+02],
       [ 0.00000000e+00,  0.00000000e+00,  4.73056414e+01,         1.34433889e+00],
       [ 1.30150533e-01, -3.31427267e-01, -1.35914458e+01,         2.18149279e+03],
       [ 0.00000000e+00,  3.61519575e-02,  1.21614857e-01,         1.29215245e+02],
       [-8.12459871e-02,  0.00000000e+00, -8.95094867e+01,        -7.33704409e+00],
       [-1.17406761e-01, -7.01458333e-01,  3.07445282e+00,        -1.26766177e+03],
       [ 1.21521215e-01,  0.00000000e+00,  4.98399247e+01,         7.06334382e+00],
       [-1.43585900e-01,  1.58154723e+00, -1.42472295e+01,        -6.69658336e+02],
       [ 0.00000000e+00, -4.90011868e-02, -2.05317446e+00,         8.59871449e+01],
       [ 1.43394287e-01, -6.12849381e-01,  5.82321087e+00,         3.99243007e+02],
       [ 0.00000000e+00,  1.75452395e-01, -1.34341521e+00,        -3.40974269e+01]];
     

 %SQUARE PARAM
 
 Param4 = [[ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,         1.30741473e-01],
       [-4.04059716e+00,  0.00000000e+00,  1.59214747e+01,         1.56521837e+01],
       [ 0.00000000e+00, -4.38615127e+00,  6.25717062e+00,        -3.54177262e+02],
       [ 4.05506251e+00,  0.00000000e+00, -1.99609482e+01,        -1.86612004e+01],
       [ 0.00000000e+00,  4.07493885e+00, -3.24548433e+00,         1.75079055e+02],
       [ 0.00000000e+00,  0.00000000e+00,  5.14732036e+01,         9.89585737e+00],
       [ 0.00000000e+00,  0.00000000e+00, -1.00538792e+01,         1.79289225e+03],
       [ 0.00000000e+00,  0.00000000e+00,  9.89831167e-01,         9.96374947e+01],
       [ 2.71357046e-01,  0.00000000e+00, -1.10789592e+02,        -4.45732588e+01],
       [ 0.00000000e+00, -3.19676734e-01, -2.42475207e+00,        -1.03162525e+03],
       [-2.73585177e-01,  0.00000000e+00,  6.73440742e+01,         4.02386769e+01],
       [ 0.00000000e+00,  0.00000000e+00,  5.81505259e+00,        -8.45308066e+02],
       [ 0.00000000e+00,  0.00000000e+00, -2.50760231e+00,         7.10512105e+01],
       [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,         4.51802309e+02],
       [ 0.00000000e+00,  0.00000000e+00,  1.31192378e+00,        -5.90679622e+01]];

   
% Short

% Param4 = [[ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,        -3.05130310e-02],
%        [-3.92541185e+00,  0.00000000e+00,  1.29462082e+00,         1.15559486e+01],
%        [ 0.00000000e+00, -4.39529279e+00, -1.00117037e-01,        -9.26757529e+00],
%        [ 3.93482980e+00,  0.00000000e+00, -1.76038623e+00,        -8.20373340e+00],
%        [ 0.00000000e+00,  4.07823437e+00,  4.29638346e-02,         6.84690799e+00],
%        [ 0.00000000e+00,  0.00000000e+00, -8.69759916e+00,        -2.19203986e+02],
%        [ 0.00000000e+00,  0.00000000e+00, -9.46494000e+00,         3.07126046e+01],
%        [ 0.00000000e+00,  0.00000000e+00,  6.37780330e-01,       -4.49873135e+00],
%        [ 0.00000000e+00,  0.00000000e+00,  9.61004472e+00,         2.79629836e+02],
%        [ 0.00000000e+00, -1.02162167e-01,  8.62654641e+00,        -8.94434463e+00],
%        [ 0.00000000e+00,  0.00000000e+00, -4.71769901e-01,        -6.48190880e+01],
%        [ 0.00000000e+00,  0.00000000e+00,  8.21108500e+00,        -9.59379215e+00],
%        [ 0.00000000e+00,  0.00000000e+00, -2.62533960e-01,         4.72611776e+00],
%        [ 0.00000000e+00,  0.00000000e+00, -7.13255538e+00,        -3.31682717e+00],
%        [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,        -7.99674585e-01]];


   
% Param4 = [[-7.74573440e-04, -8.41096559e-04,  1.04541248e-02,        -2.74764291e-02],
%        [-3.90503762e+00,  4.05705103e-03, -4.36474558e+00,        -1.65154921e+00],
%        [ 0.00000000e+00, -4.37289792e+00, -2.33832631e-01,        -1.36248938e+01],
%        [ 3.91962824e+00, -1.35738067e-03,  4.31332568e+00,         1.84405577e+00],
%        [ 0.00000000e+00,  4.07067460e+00,  1.15816236e-01,         7.73725899e+00],
%        [-1.58473350e-02, -4.14724221e-03, -8.05675050e+00,        -9.85517106e+00],
%        [ 0.00000000e+00,  1.36934923e-02, -3.10062814e-01,        -2.17473365e+00],
%        [-3.01187559e-03,  0.00000000e+00, -3.21509104e-01,         7.61730404e-02],
%        [ 1.61968728e-02, -2.78632052e-03,  1.52101889e+01,         1.65441505e+01],
%        [ 0.00000000e+00, -1.39674503e-01,  5.54828473e-01,         1.55491135e+01],
%        [ 0.00000000e+00,  4.71123723e-03, -7.07768686e+00,        -6.91405883e+00],
%        [ 0.00000000e+00,  2.31617511e-02, -1.22223844e-02,        -8.61345194e+00],
%        [ 4.72870148e-03,  0.00000000e+00,  3.86077453e-01,        -3.45930540e-01],
%        [ 0.00000000e+00,  3.11487666e-03, -1.69431496e-01,        -3.85878623e+00],
%        [ 0.00000000e+00,  0.00000000e+00,  2.30113680e-02,         2.37731945e-01]];
% 
% NEW BIG
%  Param4 = [ 0         0         0         0;
%    -3.9050         0         0         0;
%          0   -4.3729         0         0;
%     3.9196         0         0         0;
%          0    4.0707         0         0;
%          0         0         0         0;
%          0    0.0137         0         0;
%    0.0030         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0;
%          0         0         0         0];
%      
Param4 = [  0         0         0         0
   -3.8268         0         0         0
         0   -4.2917         0         0
    3.8402         0         0         0
         0    3.9857         0         0
         0         0         0         0
         0   -0.0105         0         0
   -0.0019         0         0         0
         0         0         0         0
         0         0         0         0
         0         0         0         0
         0         0         0         0
         0         0         0         0
         0         0         0         0
         0         0         0         0];


%Big

Param4 = [[  0.        ,   0.        ,   0.        ,   0.        ],
       [ -3.92344236,   0.        ,  -4.26120663,  -1.84153632],
       [  0.        ,  -4.38960591,  -0.23372508, -13.62415134],
       [  3.93693308,   0.        ,   4.24889887,   1.92918774],
       [  0.        ,   4.07694944,   0.11588041,   7.73726302],
       [  0.        ,   0.        ,  -7.99315044,  -9.58704304],
       [  0.        ,   0.        ,  -0.32183576,  -2.16918141],
       [  0.        ,   0.        ,  -0.36034849,   0.06861353],
       [  0.        ,   0.        ,  14.74887545,  16.25567285],
       [  0.        ,  -0.10238171,   0.56096737,  15.54373112],
       [  0.        ,   0.        ,  -6.71385603,  -6.7986167 ],
       [  0.        ,   0.        ,   0.        ,  -8.61797218],
       [  0.        ,   0.        ,   0.44798966,  -0.33958074],
       [  0.        ,   0.        ,  -0.17462567,  -3.85531382],
       [  0.        ,   0.        ,   0.        ,   0.23047746]];


%      Param4 = [[-1.44671158e-04, -1.22280775e-04, -1.75073825e-02,        -3.05130310e-02],
%        [-3.91783058e+00, -1.51744236e-02,  1.41857236e+00,         1.15559486e+01],
%        [-4.04291829e-04, -4.39873527e+00, -1.37928952e-01,        -9.26757529e+00],
%        [ 3.92495932e+00,  1.45868504e-02, -1.81517786e+00,        -8.20373340e+00],
%        [ 5.00998607e-04,  4.07834778e+00,  5.51562519e-02,         6.84690799e+00],
%        [-1.42383675e-03,  7.80389819e-02, -8.48240994e+00,        -2.19203986e+02],
%        [ 9.23177955e-03,  1.29067537e-03, -9.60315307e+00,         3.07126046e+01],
%        [-2.98070367e-03, -1.21535338e-03,  6.47504087e-01,        -4.49873135e+00],
%        [ 6.22155489e-03, -9.03707674e-02,  8.93429922e+00,         2.79629836e+02],
%        [-5.38866881e-03, -9.10088984e-02,  8.84192573e+00,        -8.94434463e+00],
%        [ 3.32562483e-03,  3.26501505e-02, -6.91008825e-02,        -6.48190880e+01],
%        [-6.87939013e-03, -2.44758705e-02,  8.27534859e+00,        -9.59379215e+00],
%        [ 4.49348531e-03,  1.19664933e-04, -2.57122470e-01,         4.72611776e+00],
%        [ 4.43196075e-03,  6.38921438e-03, -7.21393435e+00,        -3.31682717e+00],
%        [-1.16525733e-04, -9.25921318e-05, -8.28899125e-03,        -7.99674585e-01]];
%    
    
%     Param4 = [[  0.        ,   0.10833392,  -3.88083599,  15.77518315],
%        [ -3.91901142,   0.        ,  -9.44125296, -11.02446422],
%        [  0.        ,  -4.6400409 ,   0.        , -13.46704957],
%        [  3.91700223,   0.        ,   3.77858917,  12.3245265 ],
%        [  0.        ,   4.11188295,   0.        ,   3.67766314],
%        [  0.        ,   0.        ,   0.        ,   1.25362005],
%        [  0.        ,   0.        ,   0.        ,  -0.296092  ],
%        [  0.        ,   0.        ,  -0.06187872,  -0.10683807],
%        [  0.        ,   0.        ,   0.59191138,  -1.03770043],
%        [  0.        ,  -0.09404926,   0.        ,  -4.21538144],
%        [  0.        ,   0.        ,  -0.17111257,  -0.34357948],
%        [  0.        ,   0.        ,   0.        ,   0.15119406],
%        [  0.        ,   0.        ,   0.22376564,   0.        ],
%        [  0.        ,   0.        ,   0.        ,  -0.17927025],
%        [  0.        ,   0.        ,   0.        ,   0.        ]];
%  

% Param4 = [[ 0.00000000e+00,  0.00000000e+00, -6.85696659e-01,        -3.53864997e+00];
%        [-3.92563061e+00,  0.00000000e+00,  6.25362526e+01,         2.28580226e+02];
%        [ 0.00000000e+00, -4.44977191e+00,  2.19893409e+01,        -2.14296857e+02];
%        [ 2.67083413e-01,  0.00000000e+00, -4.07421750e+00,        -1.48704551e+01];
%        [ 0.00000000e+00,  2.58245756e-01, -9.31984874e-01,         7.09623433e+00];
%        [ 0.00000000e+00,  0.00000000e+00, -4.34725465e+02,        -5.61243684e+02];
%        [ 0.00000000e+00, -7.90673060e-02, -4.84086000e+01,        -1.03251972e+02];
%        [ 0.00000000e+00,  0.00000000e+00, -1.67058027e+01,        -5.52234931e+01];
%        [ 0.00000000e+00,  0.00000000e+00,  3.61161583e+01,         2.07184584e+01];
%        [ 0.00000000e+00,  0.00000000e+00,  5.36355073e-01,         1.41032376e+01];
%        [ 0.00000000e+00,  0.00000000e+00, -4.54253140e-01,         1.15275656e+00];
%        [ 0.00000000e+00,  0.00000000e+00,  2.34252114e+00,        -2.24291282e+00];
%        [ 0.00000000e+00,  0.00000000e+00,  2.46045100e+00,         6.05580352e+00];
%        [ 0.00000000e+00,  0.00000000e+00, -7.80330496e-02,        -3.19232297e-01];
%        [ 0.00000000e+00,  0.00000000e+00, -5.86750925e-02,        -1.47210492e-01]];

% 
% Param4 = [[ 0.        ,  0.        ,  0.        ,  0.        ],
%        [-4.11679328,  0.        , -2.47667934,  0.        ],
%        [ 0.        , -2.7895407 ,  0.        , -3.31435825],
%        [ 4.09720399,  0.        ,  2.96593177,  0.        ],
%        [ 0.        ,  2.74547101,  0.        ,  2.83310155],
%        [ 2.4768517 ,  0.        , -2.53496524, -0.72870733],
%        [-0.33203732,  0.        , -1.49889688, -5.9038168 ],
%        [ 0.        , -0.57233808,  0.        ,  1.31035414],
%        [-1.80448627,  0.        ,  2.63113492,  0.        ],
%        [ 0.34435517,  1.16688652,  1.52737483,  5.68476628],
%        [-0.60559314,  0.        , -1.09461505,  0.65635615],
%        [ 0.        , -0.38392442,  1.03795968,  3.41540037],
%        [ 0.        ,  0.76715955,  0.        , -2.17255588],
%        [ 0.        , -0.54707584, -1.07192877, -4.59314969],
%        [ 0.        , -0.26415697,  0.        ,  1.00853624]];

%    
% Param4 = [  0         0         0         0
%    -5.8268         0         0         0
%          0   -1.2917         0         0
%     1.8402         0         0         0
%          0    8.9857         0         0
%          0         0         0         0
%          0   -0.0105         0         0
%    -0.0019         0         0         0
%          0         0         0         0
%          0         0         0         0
%          0         0         0         0
%          0         0         0         0
%          0         0         0         0
%          0         0         0         0
%          0         0         0         0];


    %% Movimento Robô
    while(abs(xd-x(i))>tolerance || abs(yd-y(i))>tolerance)
        
        
     %%Controlador

     uref(i)=tanh((yd-y(i))*ky/ly)*ly*sin(psi(i))+...
         tanh((xd-x(i))*kx/lx)*lx*cos(psi(i));
     wref(i)=(1/a)*(tanh((yd-y(i))*ky/ly)*ly*cos(psi(i))-...
         tanh((xd-x(i))*kx/lx)*lx*sin(psi(i)));
%      urefs(i)=tanh((yd-y(i))*ky/ly)*ly*sin(psi(i))+...
%          tanh((xd-x(i))*kx/lx)*lx*cos(psi(i));
%      wrefs(i)=(1/a)*(tanh((yd-y(i))*ky/ly)*ly*cos(psi(i))-...
%           tanh((xd-x(i))*kx/lx)*lx*sin(psi(i)));

     urefs(i)=tanh((yd-ys(i))*ky/ly)*ly*sin(psis(i))+...
         tanh((xd-xs(i))*kx/lx)*lx*cos(psis(i));
     wrefs(i)=(1/a)*(tanh((yd-ys(i))*ky/ly)*ly*cos(psis(i))-...
         tanh((xd-xs(i))*kx/lx)*lx*sin(psis(i)));
     
     
     if (controlled == 0)
         urefs(i) = uref(i);
         wrefs(i) = wref(i);       
         
     end
     
    

     %%Modelo Dinâmico

     %Velocidade Linear

     du(i+1)=(1/theta(1))*uref(i)+(theta(3)/theta(1))*(w(i)^2)-...
         (theta(4)/theta(1))*u(i); %Aceleraçao Linear
     
     dus(i+1) = Param4(:,1)'*[1 us(i) ws(i) urefs(i) wrefs(i) us(i)^2 us(i)*ws(i) ws(i)^2 us(i)*urefs(i)...
          ws(i)*urefs(i) urefs(i)^2 us(i)*wrefs(i) ws(i)*wrefs(i) urefs(i)*wrefs(i) wrefs(i)^2]';
  
     %dus=du;
% 
%      %Limite Aceleração Linear
%      if du(i+1)>dumax
%          du(i+1)=dumax;
%      end
%      if du(i+1)<-dumax
%          du(i+1)=-dumax;
%      end
     u(i+1)=du(i+1)*ts + u(i); %Velocidade Linear
     us(i+1)=dus(i+1)*ts + us(i); 

% 
%      %Limite Velocidade Linear
%      if u(i+1)>umax
%          u(i+1)=umax;
%      end
%      if u(i+1)<-umax
%          u(i+1)=-umax;
%      end

     %Velocidade Angular

     dw(i+1)=(1/theta(2))*wref(i)-(theta(6)/theta(2))*w(i)-...
         (theta(5)/theta(2))*u(i)*w(i); %Aceleração Angular
     dws(i+1) = Param4(:,2)'*[1 us(i) ws(i) urefs(i) wrefs(i) us(i)^2 us(i)*ws(i) ws(i)^2 us(i)*urefs(i)...
          ws(i)*urefs(i) urefs(i)^2 us(i)*wrefs(i) ws(i)*wrefs(i) urefs(i)*wrefs(i) wrefs(i)^2]';
     
     %dws=dw;

     %Limite Aceleração Angular

% %      if dw>dwmax
% %          dw=dwmax;
% %      end
% %      if dw<-dwmax
% %          dw=-dwmax;
% %      end

     w(i+1)=dw(i+1)*ts + w(i); %Velocidade Angular
     ws(i+1)=dws(i+1)*ts + ws(i); %Velocidade Angular


     %Limite Velocidade Angular

% %      if w(i+1)>wmax
% %          w(i+1)=wmax;
% %      end
% %      if w(i+1)<-wmax
% %          w(i+1)=-wmax;
% %      end

     %%Modelo Cinemático
     
     s(i+1)=us(i+1)*ts;
     %th(i+1) = th(i) + ws(i+1)*ts
     
     
     dx(i+1)=u(i+1)*cos(psi(i))-a*w(i)*sin(psi(i));  %Velocidade x
     dxs(i+1)=us(i+1)*cos(psis(i))-a*ws(i)*sin(psis(i));  %Velocidade x
     x(i+1)=dx(i+1)*ts+x(i);  %Posição x
     xs(i+1)=dxs(i+1)*ts+xs(i);  %Posição x
     
     dy(i+1)=u(i+1)*sin(psi(i))+a*w(i)*cos(psi(i)); %Velocidade y
     dys(i+1)=us(i+1)*sin(psis(i))+a*ws(i)*cos(psis(i)); %Velocidade y
     
     y(i+1)=dy(i+1)*ts+y(i); %Posição y
     ys(i+1)=dys(i+1)*ts+ys(i); %Posição y
     
     psi(i+1)=w(i+1)*ts+psi(i); %Estado de rotação
     psis(i+1)=ws(i+1)*ts+psis(i); %Estado de rotação
     %xs(i+1) = xs(i)+s(i+1)*cos(psis(i+1));
     %ys(i+1) = ys(i)+s(i+1)*sin(psis(i+1));
     
     i=i+1;


    end

end
